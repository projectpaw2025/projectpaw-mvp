
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>í”„ë¡œì íŠ¸ ìƒì„¸ë³´ê¸° - Project.PAW</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <!-- Navbar -->
  
<nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm mb-4">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">ğŸ¾ Project.PAW</a>
    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
      <li class="nav-item">
        <a class="nav-link " href="index.html">ğŸ  í™ˆ</a>
      </li>
      <li class="nav-item">
        <a class="nav-link " href="project_list.html">ğŸ“‹ í›„ì›í•˜ê¸°</a>
      </li>
      <li class="nav-item">
        <a class="nav-link " href="create.html">â• í”„ë¡œì íŠ¸ ë“±ë¡</a>
      </li>
      <li class="nav-item">
        <a class="nav-link " href="login.html">ğŸ”‘ ë¡œê·¸ì¸</a>
      </li>
    </ul>
  </div>
</nav>


  <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
  <div class="container my-5">
    <div class="row">
      <!-- ì´ë¯¸ì§€ + ì¹´ì¹´ì˜¤ -->
      <div class="col-md-6">
        <img id="mainImage" src="" alt="ëŒ€í‘œ ì´ë¯¸ì§€" class="img-fluid rounded mb-3" style="max-height: 400px;" />
        <a id="kakaoLink" href="#" class="btn btn-warning w-100" target="_blank">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ êµ¬ì¡°ìì—ê²Œ ì—°ë½í•˜ê¸°</a>
      </div>

      <!-- ì„¤ëª… ì˜ì—­ -->
      <div class="col-md-6">
        <h2 id="animalName" class="fw-bold">ë™ë¬¼ ì´ë¦„</h2>
        <p id="description" class="lead"></p>

        <ul class="list-group mb-3">
          <li class="list-group-item"><strong>ëª©í‘œ ê¸ˆì•¡:</strong> <span id="goalAmount"></span> ì›</li>
          <li class="list-group-item"><strong>êµ¬ì¡°ì ë¶€ë‹´:</strong> <span id="burdenAmount"></span> ì›</li>
        </ul>
      </div>
    </div>

    <hr class="my-4" />

    <!-- í›„ê¸° ì˜ì—­ -->
    <div class="mt-5">
      <h4 class="mb-3">ğŸ“š í›„ì›ì í›„ê¸°</h4>
      <ul id="reviewList" class="list-group mb-3"></ul>
      <textarea id="reviewText" class="form-control mb-2" rows="3" placeholder="í›„ê¸°ë¥¼ ì‘ì„±í•´ ì£¼ì„¸ìš”."></textarea>
      <button class="btn btn-primary" onclick="submitReview()">í›„ê¸° ë“±ë¡</button>
    </div>
  </div>

  <!-- ìŠ¤í¬ë¦½íŠ¸: í”„ë¡œì íŠ¸ ë°ì´í„° ë Œë”ë§ + í›„ê¸° ë¡œì§ -->
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");
    const projects = JSON.parse(localStorage.getItem("projects") || "[]");
    const project = projects.find(p => p.id === id);

    if (project) {
      document.getElementById("animalName").textContent = project.animal;
      document.getElementById("mainImage").src = project.mainImage || "";
      document.getElementById("description").textContent = project.description || "";
      document.getElementById("goalAmount").textContent = project.amount || 0;
      document.getElementById("burdenAmount").textContent = project.burden || 0;
      document.getElementById("kakaoLink").href = project.kakao || "#";
    }

    const REVIEW_KEY = "review_" + id;

    function loadReviews() {
      const list = document.getElementById("reviewList");
      const stored = localStorage.getItem(REVIEW_KEY);
      if (stored) {
        const reviews = JSON.parse(stored);
        reviews.forEach((r) => {
          const li = document.createElement("li");
          li.className = "list-group-item";
          li.textContent = r;
          list.appendChild(li);
        });
      }
    }

    function submitReview() {
      const text = document.getElementById("reviewText").value.trim();
      if (!text) return;

      const stored = localStorage.getItem(REVIEW_KEY);
      const reviews = stored ? JSON.parse(stored) : [];
      reviews.push(text);
      localStorage.setItem(REVIEW_KEY, JSON.stringify(reviews));

      const li = document.createElement("li");
      li.className = "list-group-item";
      li.textContent = text;
      document.getElementById("reviewList").appendChild(li);
      document.getElementById("reviewText").value = "";
    }

    document.addEventListener("DOMContentLoaded", loadReviews);
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
