<!doctype html><html lang="ko"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>프로젝트 상세</title><link rel="stylesheet" href="common.css"/><link rel="stylesheet" href="app.min.css"/>
<style>.wrap{max-width:1040px;margin:0 auto;padding:20px 16px}.cover{width:100%;aspect-ratio:16/9;object-fit:cover;border-radius:16px;border:1px solid #eef2f7}.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px}.thumb{width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:10px;border:1px solid #eef2f7}</style>
</head><body><div data-include="header"></div><main class="wrap" id="app"></main><div data-include="footer"></div>
<script type="module">
import { injectLayout } from './js/include.js'; import { apiGetProject } from './js/api.js'; injectLayout();
const $app=document.getElementById('app'); const id=new URL(location.href).searchParams.get('id'); const cover=p=>p.coverUrl||p.representativeImageUrl||'img/placeholder.svg'; const fmt=n=>Number(n||0).toLocaleString('ko-KR');
(async()=>{ try{ const p=await apiGetProject(id); const g=p.galleryUrls||[]; const r=p.receiptUrls||[]; $app.innerHTML = `
  <img class="cover" src="${cover(p)}"/><h1>${p.name??'(이름 없음)'} ${p.adminApproved?'<span class="pill" style="background:#ecfdf5;border-color:#bbf7d0;color:#065f46">승인</span>':'<span class="pill" style="background:#fff7ed;border-color:#fed7aa;color:#9a3412">대기</span>'}</h1>
  <div class="muted">목표 ${fmt(p.goalAmount)}원 · 구조자 부담 ${fmt(p.rescuerContribution)}원</div>
  <h3>상황 요약</h3><p>${p.summary??''}</p>
  <h3>상세 설명</h3><p>${(p.description??'').replace(/\n/g,'<br/>')}</p>
  ${g.length?'<h3>구조 상황 사진</h3><div class="grid">'+g.map(s=>`<img class="thumb" src="${s}">`).join('')+'</div>':''}
  ${r.length?'<h3>영수증</h3><div class="grid">'+r.map(s=>`<img class="thumb" src="${s}">`).join('')+'</div>':''}`; }catch(e){ $app.innerHTML='<p>불러오기 실패</p>'; } })();
</script></body></html>

<!-- project.html 맨 아래 -->
<script type="module" src="assets/js/project.js"></script>
